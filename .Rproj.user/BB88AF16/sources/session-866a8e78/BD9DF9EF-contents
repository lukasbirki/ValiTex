library(readxl)
library(tidyverse)
library(DT)
library(shinythemes)

df <- readxl::read_excel("data/Framework.xlsx")

library(shiny)

ui <- fluidPage(
                
                
                # Sidebar layout with input and output definitions ----
                sidebarLayout(
                  
                  # Sidebar panel for inputs ----
                  sidebarPanel(width = 3,
                               
                               # Input: Choose dataset ----
                               selectInput("Method", "What text-based method do you use?",
                                           choices = c("Dictionary","Supervised", "Unsupervised: Topic Model", "Unsupervised: Text Scaling")),
                               
                               
                               
                  ),
                  
                  # Main panel for displaying outputs ----
                  mainPanel(width = 9,
                            DT::DTOutput("table"),  # Change from tableOutput to dataTableOutput
                  )
                )
)

server <- function(input, output) {
  
  output$table <- renderDT({
    df %>%
      dplyr::select(Phase, Dimension, `Validation Step`, Type) %>%
      mutate(Checkbox = '<input type="checkbox" name="select_row">', .before = 1) -> df3 
      datatable(df3,
                rownames = FALSE,
                options = list(
                  columnDefs = list(list(className = 'dt-center', targets = 0)),
                  dom = 'lrtip',
                  paging = TRUE,
                  ordering = FALSE,
                  searching = TRUE
                ),
                escape = FALSE)
  })
  
}


# Run the app
shinyApp(ui = ui, server = server)